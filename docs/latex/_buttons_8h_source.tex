\doxysection{Buttons.\+h}
\hypertarget{_buttons_8h_source}{}\label{_buttons_8h_source}\index{src/Buttons.h@{src/Buttons.h}}
\mbox{\hyperlink{_buttons_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00001}00001\ }
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00008}00008\ }
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00009}00009\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00010}00010\ \textcolor{preprocessor}{\#include\ <Arduino.h>}}
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00011}00011\ }
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00017}\mbox{\hyperlink{class_edge_button}{00017}}\ \textcolor{keyword}{class\ }EdgeButton\ \{}
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00018}00018\ \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00019}00019\ \ \ \textcolor{keyword}{explicit}\ EdgeButton(uint32\_t\ debounceMs\ =\ 60)\ :\ \_debounceMs(debounceMs)\ \{\}}
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00020}00020\ \(\backslash\)n\ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_edge_button_a598596ea2efd1bc7824d7b031ae668bc}{begin}}(\textcolor{keywordtype}{int}\ pin,\ \textcolor{keywordtype}{bool}\ pullup\ =\ \textcolor{keyword}{true})\ \{}
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00022}00022\ \ \ \ \ \_pin\ =\ pin;}
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00023}00023\ \ \ \ \ pinMode(\_pin,\ pullup\ ?\ INPUT\_PULLUP\ :\ INPUT);}
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00024}00024\ \ \ \ \ \_lastStable\ =\ digitalRead(\_pin);}
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00025}00025\ \ \ \ \ \_lastRead\ =\ \_lastStable;}
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00026}00026\ \ \ \ \ \_lastChangeMs\ =\ millis();}
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00027}00027\ \ \ \}}
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00028}00028\ }
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00029}00029\ \ \ \textcolor{comment}{//\ true\ on\ pressed\ edge\ (HIGH-\/>LOW\ when\ using\ pull-\/up)}\(\backslash\)n\ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_edge_button_ab787105c74459d094967d963477c24f1}{pressed}}()\ \{}
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00031}00031\ \ \ \ \ \textcolor{keywordtype}{bool}\ r\ =\ digitalRead(\_pin);}
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00032}00032\ \ \ \ \ uint32\_t\ now\ =\ millis();}
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00033}00033\ }
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00034}00034\ \ \ \ \ \textcolor{keywordflow}{if}\ (r\ !=\ \_lastRead)\ \{}
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00035}00035\ \ \ \ \ \ \ \_lastRead\ =\ r;}
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00036}00036\ \ \ \ \ \ \ \_lastChangeMs\ =\ now;}
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00037}00037\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00038}00038\ }
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00039}00039\ \ \ \ \ \textcolor{keywordflow}{if}\ ((now\ -\/\ \_lastChangeMs)\ >\ \_debounceMs\ \&\&\ \_lastStable\ !=\ \_lastRead)\ \{}
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00040}00040\ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ prev\ =\ \_lastStable;}
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00041}00041\ \ \ \ \ \ \ \_lastStable\ =\ \_lastRead;}
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00042}00042\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (prev\ ==\ \textcolor{keyword}{true}\ \&\&\ \_lastStable\ ==\ \textcolor{keyword}{false})\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00043}00043\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00044}00044\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00045}00045\ \ \ \}}
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00046}00046\ }
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00047}00047\ \textcolor{keyword}{private}:}
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00048}00048\ \ \ \textcolor{keywordtype}{int}\ \_pin\ =\ -\/1;}
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00049}00049\ \ \ uint32\_t\ \_debounceMs;}
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00050}00050\ \ \ \textcolor{keywordtype}{bool}\ \_lastStable\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00051}00051\ \ \ \textcolor{keywordtype}{bool}\ \_lastRead\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00052}00052\ \ \ uint32\_t\ \_lastChangeMs\ =\ 0;}
\DoxyCodeLine{\Hypertarget{_buttons_8h_source_l00053}00053\ \};}

\end{DoxyCode}
